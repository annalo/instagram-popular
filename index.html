<!DOCTYPE html>
<html>
<head>
  <title>Popular Instagram Posts</title>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script src="underscore-min.js"></script>
  <link rel="stylesheet" href="./posts.css"></link>
</head>

<body>
  <div id="content">
    <div id="posts"></div>
  </div>
  <script>
    $(function() {
      $.ajax({
        url: "https://api.instagram.com/v1/media/popular?client_id=4bbf750dd530480baf89bc7325a8c30e",
        dataType: "jsonp",
        success: function(data) {
          var posts = data.data;
          // sort post by likes
          posts.sort(function(a, b) {
             return b.likes.count - a.likes.count
          });
          console.log(posts);
          _.each(posts, function(post) {
            var image = post.images.standard_resolution.url
            $("#posts").append('<div class="post"><img src="' + image + '"></div>');
          });
        }
      });
    });
  </script>
</body>
</html>